*
A)	USING SAS PROCEDURE
	--->	USING A PROCEDURE OR PROC, IS LIKE FILLING OUT A FORM. SOMEONE ELSE DESIGNED THE FORM, ALL YOU HAVE TO DO IS FILL IN THE BLANKS
			AND CHOOSE FROM A LIST OF OPTIONS. 

	--->	ALL PROCEDURES HAVE REQUIRED STATEMENTS, AND MOST HAVE OPTIONAL STATEMENT, "PROC PRINT FOR EXAMPLE REQUIRES ONLY TWO WORDS", HOWEVER
			BY ADDING OPTIONAL STATEMENTS YOU COULD MAKE THIS PROCEDURE DOZEN LINE OR EVEN LONGER. 

	--->	PROC STATEMENT --	ALL PROCEDURES START WITH 	KEYWORD PROC FOLLOWED BY THE NAME OF THE PROCEDURE, SUCH AS PRINT OR CONTENTS, IF THERE
			ARE ANY FOLLOW THE PROCEDURE NAME. THE DATA = OPTIONS TELLS SAS TO WHICH DATA SET TO USE AS INPUT FOR THAT PROCEDURE.;

LIBNAME NANDAN "D:\Practice\SAS\Little SAS Book\Data\generation_monthly.xlsx";
PROC CONTENTS DATA= NANDAN.'2001_2002_FINAL$';
RUN;

PROC CONTENTS DATA= SASHELP.AIR;
RUN;


*
	---> BY STATEMENT	=	THE "BY" STATEMENT IS ONLY REQUIRED FOR ONE PROCEDURE, "PROC SORT". IN "PROC SORT" THE "BY" STATEMENT TELLS SAS HOW TO 
			ARRANGE THE OBSERVATIONS.IN ALL OTHER PROCEDURES, THE "BY" STATEMENT IS OPTIONAL AND TELLS SAS TO PERFORM A SEPARATE ANALYSIS FOR EACH 
			COMBINATION OF VALUES OF THE "BY" VARIABLES RATHER THAN TREATING ALL OBSERVATION AS ONEGROUP.

				LIBNAME NANDAN "D:\Practice\SAS\Little SAS Book\Data\generation_monthly.xlsx":
				PROC SORT DATA= NANDAN.gneration_monthly:
				BY STATE:
				RUN:

	---> TITLE AND FOOTNOTE STATEMENT =	THE MOST BASIC TITLE STATEMENT CONSISTS OF THE KEYWORD "TITLE" FOLLOWED BY YOUR TITLE ENCLOSED IN 
			QUOTATION MARKS. FOOTNOTES WORKS IN THE SAME WAY.

				LIBNAME NANDAN "D:\Practice\SAS\Little SAS Book\Data\generation_monthly.xlsx":
				PROC PRINT DATA= NANDAN.gneration_monthly:
				TITLE = "ELECTRICTY GENERATION"
				FOOTNOTE = "THIS CHART CONTAIN 12 MONTHS OF ELECTRICITY GENERATED BY OKLAHOMA STATE"
				RUN:
	
	---> LABEL = BY DEFAULT SAS USES VARIBALE NAMES TO LABEL OUR OUTPUT, BUT WITH LABEL STATEMENT WE CAN CREATE DESCRIPTIIVE LABELS, UPTO 256
			CHARACTER LONG, FOR EACH VARIBALE.

				LIBNAME NANDAN "D:\Practice\SAS\Little SAS Book\Data\generation_monthly.xlsx":
				PROC PRINT DATA= NANDAN.gneration_monthly:
				LABLLE TOTAL= "ELECTRICITY GENERATED FROM JAN TO SEP"
					   DISTRIBUTION= "DISTRIBUTION BY STATE":
				TITLE = "ELECTRICTY GENERATION"
				FOOTNOTE = "THIS CHART CONTAIN 12 MONTHS OF ELECTRICITY GENERATED BY OKLAHOMA STATE"
				RUN:

		 NOTE:- WHEN "LABEL" STATEMENT USED IN A DATASTEP, THE LABELS BECOME PART OF THE DATA SET, BUT WHEN LABEL IS PROC, THE LABEL STAY IN 
				EFFECT ONLY FOR THE DURATION OF THAT PARTICULAR STEP.

	---> CUSTOMIZING OUTPUT - WE HAVE A LOT OF CONROL OVER THE OUTPUT PRODUCED BY PROCEDURES. USING SYSTEM OPTIONS WE CAN SET MANY FEATURES
				SUCH AS CENTERING, DATES, AND PAPER ORIENTATION. WITH THE OUPUT DELIVERY SYSTEM WE CAN CHANGE OVRALL STYLE OF OUR OUTPUT,
				PRODUCE OUTPUT IN DIFFERENT FORMATS OR CHANGE ALMOST ANY DETAILS OF OUTPUT.

	---> OUTPUT DATASET - MOST PROCEDURES PRODUCE SOME KIND OF REPORT, BUT SOMETIME WE WOULD LIKE THE RESULT OF PROCEDURE SAVED AS DATA SET
				SO YOU CAN PERFORM FURTHER ANALYSIS. SO WE CAN CREATE SAS DATA SETS FROM ANY PROCEDURE OUTPUT USING THE "ODS OUPUT" STATEMENT.
				SOME PROCEDURES CAN ALSO WRITE A SAS DATA SET USING "OUTPUT" STATEMENT OR "OUT=" OPTION.



B)	SUBMITTING THE PROCEDURE WITH WHERE STATEMENT

		--->	ONE OPTIONAL STATEMENT FOR ANY PROC THAT READS SAS DATASET IS THE "WHERE" STATEMENT. THE WHERE STATEMENT TELLS A PROCEDURE TO 
				USE SUBET OF THE DATA. 
		
		---> 	WHILE SUBSETTING "IFS" WORKS ONLY IN DATA STEPS, "WHERE" WORKS IN 'PROC STEP' TOO.

		--->	UNLIKE SUBSETTING IN DATA STEP, USING A "WHERE" STATEMENT DOESN'T CREATE A NEW DATA SET.

		---> 	BASIC FORM OF A "WHERE" STATEMENT IS
				
				WHERE statement:

		--->	ONLY OBSERVATION SATISFYING THE CONDITION WILL BE USED BY THE PROC.

		--->	THE LEFT SIDE OF CONDITION IS A VARIABLE NAME, AND THE RIGHT SIDE IS A VARIBALE NAME, A CONSTANT OR A MATHEMATICAL EXPRESSION(+,-,*,%,**)
				BETWEEN THE TWO SIDES OF EXPRESSION , WE CAN USE LOGICAL OR COMPARISION OPERATORS ;


DATA ART;
INFILE "D:\Practice\SAS\Little SAS Book\Data\Painter.csv" DSD DLM="," TRUNCOVER FIRSTOBS=2;
INPUT PAINTER :$21. STYLE :$19. ORIGINE :$3.;
RUN;

PROC PRINT DATA=ART;
WHERE STYLE= "Impressionism";
TITLE "MAJOR IMPRESSIONISM ARTIST'S";
FOOTNOTE "F= FRANCE N=NEATHERLAND U=USA";
RUN;


*
C)	SORTING YOUR DATA WITH PROC SORT
		--->	THERE ARE MANY REASON FOR SORTING YOUR DATA: TO ORGAINSE DATA FOR A REPORT, BEFORE COMBINING DATS SET, OR BEFORE USING A BY
				STATEMENT IN ANOTHER PROC OR DATA SETP.

		--->	PROC SORT IS QUIT SIMPLE AND BASIC FORM OF THIS PROCEDURE IS 
			
				PROC SORT:	
					BY VARIBALE-LIST:

		a)	CONTROLLING THE OUTPUT DATASET	-	THE "DATA=" AND "OUT=" OPTIONS SPECIFY THE INPUT AND OUTPUT DATA SETS. IF YOU DO NOT SPECIFY THE
				"DATA="  OPTION SAS WILL USE THE MOST RECENT CREATED DATA SET. IF YOU DO NOT SPECIFY "OUT=" OPTION SAS WILL REPLACE THE ORIGINAL
				DATA SET WITH NEWALY SORTED VERSION.

					PROC SORT DATA=messy OUT=neat:

		---> "NODUPKEY" OPTION TELLS SAS TO ELIMINATE ANY DUPLICATE OBSERVATIONS THAT HAVE THE SAME VALUE FOR THE "BY" VARIABLE.

		---> IF YOU SPECIFY "DUPOUT=" OPTION, THEN SAS WILL PUT THE DELETED OBSERVATION IN DATA SET.

		---> TO USE THOSE STATEMENTS JUST ADD THEM TO "PROC SORT" STATEMENT.

		b)	ASECENDING VERSUS DECENDING SORT --- BY DEFAULT SAS SORTS DATA IN ACCENDING ORDER, FROM LOWEST TO HIGHEST. TO HAVE YOUR DATA SORTED IN
				OPPOSITE ORDER, ADD THE KEYWORD "DECENDING" TO THE "BY" STATEMENT BEFORE EACH VARIABLE THAT SHOULD BE SORTED IN REVERSE ORDER.
				
						BY State DECENDING City;

DATA MARINE;
INFILE "D:\Practice\SAS\Little SAS Book\Data\Whale & Shark.csv" DSD DLM="," TRUNCOVER FIRSTOBS=2;
INPUT NAME :$8. FAMILY :$7.	LENGTH;
RUN;

PROC SORT DATA=MARINE OUT=SEASORT NODUPKEY;
BY FAMILY DECENDING LENGTH;
PROC PRINT DATA=SEASORT;
RUN;



*
D)	CHANGING SORT ORDER FOR CHARACTER DATA
		--->	ASCII versus EBCDIC  The default collating sequence for the z/OS operating environment is 
EBCDIC. The default collating sequence for most other operating environments is ASCII. From 
lowest to highest, the basic sort orders for character data are 
ASCII 
EBCDIC 
blank 
blank 
numerals 
lowercase letters 
uppercase letters 
uppercase letters 
lowercase letters 
numerals 



		Linguistic sorting  By default, upper- and lowercase letters will be sorted separately, but this is 
not the way that people generally sort them. You can use linguistic sorting to produce a more 
intuitive order. The SORTSEQ=LINGUISTIC option with the STRENGTH=PRIMARY suboption 
tells SAS to ignore case. To use these options, add them to the PROC SORT statement like this 
PROC SORT SORTSEQ = LINGUISTIC (STRENGTH = PRIMARY): 




E)	PRINTING YOUR DATA WITH PROC PRINT
			--->	THE PRINT PROCEDURE REQUIRES JUST ONE STATEMENT
							PROC PRINT

			--->	BY DEFAULT SAS USES THE DATA SET CREATED MOST RECENTLY. IF YOU DO NOT WANT TO PRINT THE MOST RECENT DATA SET THE USE
					"DATA=" OPTION.
							PROC PRINT DATA="dataset-name":
					
			--->	SAS PRINTS THE OBSERVATION NUMBERS ALONG WITH VARIABLES VALUE. IF YOU DO NOT WANT OBSERVATION NUMBERS, USE THE "NOOBS" OPTION
					IN PROC PRINT. 

			--->	IF YOU DEFINED VAIRABLES LABELS WITH "LABEL" STATEMENT, AND YOU WANT TO PRINT THE LABELS INSTEAD OF VARIBLES NAMES THEN ADD
					"LABEL" OPTION AS WELL. 
							PROC PRINT DATA=dataset-name NOOBS LABEL:

			--->	BY variable-list -- "BY" STATEMENT STARTS A NEW SECTION IN THE OUTPUT FOR EACH NEW VALUE OF THE BY VARIABLE. AND PRINTS THE 
					VALUES OF THE "BY" VARIABLES AT THE TOP OF EACH SECTION. THE DATA MUST BE RESTORED BY THE "BY" OPTION.

			--->	ID variable-list -- WHEN YOU USE "ID" STATEMENT, THE OBSERVATION NUMBERS ARE NOT PRINTED. INSTEAD, THE VARIABLES IN THE ID LIST
					APPEAR ON THE LEFT-HAND SIDE OF THE PAGE.

			--->	SUM Variable-list -- THE SUM STATEMENT PRINTS SUMS FOR THE VARIBALE IN LIST.

			--->	VAR Variable-list -- THE "VAR" STATEMEN SPECIFIES WHICH VARIABLE TO PRINT AND THE ORDER. WITHOUT A "VAR" STATEMENT, ALL VARIABLES
					IN THE SAS DATA SET ARE PRINTED IN THE ORDER THAT THEY OCCUR IN THE DATA SET. ;

DATA FILEDTRIP;
INFILE "D:\Practice\SAS\Little SAS Book\Data\FIELD TRIP.csv" DSD DLM="," TRUNCOVER FIRSTOBS=2;
INPUT NAME :$10. CLASSROOM DATE :MMDDYY10. TYPE$ SALE;
PROFIT = SALE * 1*25;
RUN;
PROC SORT ;
BY CLASSROOM ;
RUN;
PROC PRINT;
BY CLASSROOM;
SUM PROFIT;
VAR DATE TYPE PROFIT;
RUN;




*
F)	CHANGING THE APPERANCE OF PRINTED VALUES WITH FORMATS
			--->	WHEN SAS PRINTS DATA, IT DECIDES WHICH FORMAT IS BEST , HOW MANY DECIMAL PLACES TO PRINT HOW MUCH SPACE TO ALLOW FOR EACH VALUE
					AND SO ON. THIS IS VERY CONVINIENT AND MAKES OUR JOB MUCH EASIER. BUT SAS DOESN'T ALWAYS DO WHAT WE WANT. HENCE WE CAN CHANGE
					THE APPERANCE OF PRINTED VALUE USING SAS "FORMATS".

			--->	THE GENERAL FORMS OF SAS FORMATES ARE
				
							CHARACTER				NUMERIC					DATE
							$FORMATw.				FORMATw.d				FORMATw.


			--->	FORMAT STATEMENT --  WE CAN ASSOCIATE FORMATS WITH VAIABLE IN A "FORMAT" STATEMENT. THE FORMAT STATEMENT STARTS WITH THE
					KEYWORD FORMAT, FOLLOWED BY THE VARIABLE NAME( OR NAMES IF MORE THAN ONE VARIBALE IS TO BE ASSOCIATED WITH SAME FORMAT)
					FOLLOWED BY THE "FORMAT". 

								FORMAT profit loss DOLLAR8.2		saledate MMDDYY9.

			--->	FORMATE STATEMENT CAN EITHER GO IN DATA STEP OR PROC STEP.

			--->	IF THE FORMAT STATEMENT IS IN DATA STEP THEN FORMAT ASSOCIATION IS PERMANENT AND IS STORED IN SAS DATA SET.

			--->	PUT STATEMENT -- YOU CAN ALSO USE FORMAT IN PUT STATEMENT WHEN WRITTING ROW DATA FILES OR REPORTS. 

								PUT Profit DOLLAR8.2 Loss DOLLAR8.2	 SaleDate	MMDDYY8.			;



DATA SALES;
INFILE "D:\Practice\SAS\Little SAS Book\Data\FIELD TRIP.csv" DSD DLM="," TRUNCOVER FIRSTOBS=2;
INPUT NAME :$10. CLASSROOM DATE :MMDDYY10. TYPE$ SALE;
FORMAT DATE DATE9. PROFIT DOLLAR8.2;
PROFIT = SALE * 1*25;
RUN;
PROC PRINT DATA=SALES;
VAR DATE TYPE PROFIT;
FORMAT DATE DATE9. PROFIT DOLLAR8.2;
RUN;



*
G)		SELECTED STANDARD FORMAT


				FORMAT					DEFINITION											WIDTH RANGE					DEFULT WIDTH

				$UPCASEw.				CONVERTS CHARACTER DATA TO UPCASE					1-32676						LENGTH OF VARIABLE OR 8

				$w.						WRITES STANDARD CHARACTER DATA - DOESN'T TRIM		1-32676						LENGTH OF VARIBALE OR 1
										LEADING BLANKS(SAME AS $CHARw.)

				DATEw.					WRITES SAS DATE VALUE IN FORM DDMMMYY OR			5-11						7
										DDMMMYYYY	

				DATETIMEw.d				WRITES SAS DATETIME VALUES IN FORM					7-40						16
										DDMMMYY:HH:MM:SS:SS

				DTDATEw.				WRITE SAS DATE TIME VALUES IN FORM DDMMMYY			5-9							7
										or DDMMMYYYY

				EURDFDDw.				WRITE SAS DATE VALUEs IN FORM DD.MM.YY OR 			2-10						8
										DD.MM.YYYY

				JULIANw.				WRITES SAS DATE VALUEs IN JULIAN DATE FORM			5-7							5 
										YYDDD or YYYYDDD

				MMDDYYw.				WRITES SAS VALUEs IN FORMS MM/DD/YY or				2-10						8
										MM/DD/YYYY

				TIMEw.d					WRITES SAS TIME VALUES IN FORM HH:MM:SS:SS			2-10						8

				WEEKDATEw.				WRITES SAS DATE VALUES IN FORM						3-37						29
										day-of-week,month-name dd, yy or yyyy	


				WORDDAREw.				WRITES SAS DATE VALUES IN FORM						3-32						18			 
										month-name dd yyyy

				BESTw.					SAS SYSTEM CHOOSES BEST FORMAT-DEFULT FORMAT		1-32						12
										FOR NUMRIC DATA

				COMMAw.d				WRITES NUMBERS WITH COMMAS							2-32						6

				DOLLARw.d				WRITES NUMBERS WITH A LEADING $ AND COMMAS			2-32						6
										SEPARATING EVERY THREE DIGITS

				Ew.						WRITES NUMBERS IN SCIENTIFIC NOTATIONS				7-32						12

				EUROXw.d				WRITES NUMBERS WITH A LEADING € AND A PERIODS		2-32						6
										SEPARATING EVERY THREE DIGITS		

				PERCENTw.d				WRITE NUMERIC DATA AS PERCENTAGE					4-32						6

				w.d						WRITES STANDARD NUMERIC DATA						1-32						NONE


H)	CREATING YOUR OWN FORMAT USING PROC FORMAT

	--->	THE FORMAT PROCEDURE CREATES FORMTS THAT WILL LATER BE ASSOCIATED WITH VARIABLES IN A FORMAT STATEMENT. THE PROCEDURE STARTS WITH 
			THE STATEMENT PROC FORMAT AND CONTINUES WITH ONE OR MORE VALUE STATEMENT.

							
						PROC FORMAT:
								VALUE name range-1 = 'formated-text 1'
								VALUE name range-2 = 'formated-text 2'

								.
								.
								.
								VALUE name range-n = 'formated-text n':


	--->	NAME IN THE VALUE STATEMENT IS THE NAME OF FORMAT YOU'RE CREATING. IF THE FORMAT IS FOR CHARCTER DATA, THE NAME MUST START WITH A $
			THE NAME CAN'T BE LONGER THAN 32 CHARACTERS (INCLUDING $ FOR CHARACTER DATA), IT MUST NOT START OR END WITH A NUMBER, AND CAN'T 
			CONTAIN ANY SPECIAL CHARCTER EXCEPT THE UNDERSCORE. IN ADDITION, THE NAME CAN'T BE THE NAME OF AN EXISTING FORMAT. EACH RANGE IS THE
			VALUE OF A VARIABLE THAT IS ASSIGNED TO THE TEXT GIVEN IN QUOTATION MARKS ON THE RIGHT SODE OF THE EQUAL SIGN. THE TEXT CAN BE UP TO 
			32767 CHARACTERS LONG, BUT SOME PROCEDURES PRINT ONLY THE FIRST 8 OR 16 CHARACTER. THE FOLLOWING ARE EXAMPLES OF VALID RANGE
			SPECIFICATION.
													'A'=ASIA
										1, 3, 5, 7, 9 = 'Odd' 
							500000 - HIGH = 'Not Affordable' 
										13 -< 20 = 'Teenager' 
							0 <- HIGH = 'Positive Non Zero' 
											OTHER = 'Bad Data' ;


DATA CARS;
INFILE "D:\Practice\SAS\Little SAS Book\Data\Universe Car.csv" DSD DLM="," FIRSTOBS=2 TRUNCOVER;
INPUT AGE SEX INCOME COLOUR$;
RUN;

PROC FORMAT;
VALUE AGEGROUP 13-<20 ="TEEN"
		       20-<65= "ADULT"
		       65- HIGH = "SENIOR";

VALUE GENDER 1= "MALE"
		     2="FEMALE";

VALUE $CARCOLOUR  'Y'="YELLOW"
				  'R'="RED"
				  'G'="GREEN"
				  'B'="BLUE"
				  'W'="WHITE";
RUN;
PROC PRINT DATA=CARS;
FORMAT SEX GENDER.	INCOME DOLLAR8.2 AGE AGEGROUP. COLOUR $CARCOLOUR.;
RUN;



*
I)	WRITTING SAMPLE CUSTOMER REPORT

	--->	PROC PRINT IS FLEXIBLE AND EASY TO USE. STILL, THERE ARE TIMES WHEN PROC PRINT JUST WON'T DO: WHN YOU REPORT TO A STATE AGENCY HAS TO
			BE SPACED JUST LIKE THEIR FILL-IN-THE-BLANKS FORM, OR WHEN YOUR CLINT INSISTS THAT THE REPORT CONTAIN COMPLETE SENTENCES, OR WHEN YOU
			WANT ONE PAGE PER OBSERACTION. AT THOSE TIMES YOU CAN USE THE FLEXIBILITY OF THE DATA STEP. FORMAT TO YOUR HEART'S.

	--->	YOU CAN WRITE DATA IN A DATA STEP THE SAME WAY YOU READ DATA-BUT IN REVERSE. INSTEAD OF USING AN "INFILE" STATEMENT, YOU USE A "FILE"
			STATEMENT, INSTEAD OF "INPUT" STATEMENTS, YOU USE "PUT" STATEMENT. THIS IS SIMILAR TO WRITTING RAW DATA FILE IN A DATA STEP, BUT TO
			WRITE A REPORT YOU USE THE PRINT OPTION TELLING SAS TO INCLUDE THE CARRIAGE RETURN AND PAGE BREAK NEEDED FOR PRINTING.

						FILE "file specification" PRINT;

DATA CANDY;
INFILE "D:\Practice\SAS\Little SAS Book\Data\FIELD TRIP.csv" DSD DLM="," FIRSTOBS=2 TRUNCOVER;
INPUT NAME :$10. CLASSROOM DATE :MMDDYY10. TYPE :$3.	SALE;
PROFIT = SALE*1.25;
FORMAT DATE DATE9. PROFIT DOLLAR8.2; 
FILE "D:\Practice\SAS\Little SAS Book\Data\STUDENT.TXT" PRINT;
TITLE;
PUT @5 'CANDY SALES REPORT ' NAME' FROM CLASSROOM ' CLASSROOM 
//@5'CONGRATULATION! YOU SOLD ' SALE ' BOXES OF CHOCLATE'
//@5'AND EARNED' PROFIT DOLLAR8.2 ' FOR OUR FIELD TRIP.';
PUT _PAGE_;
RUN;

